# Use this docker compose to set up /var/jenkins_home.
# You can then exec -it /bin/bash into the container and executre chmod 777 /var/jenkins_home.
# This is necessary because the application will run as you, not as root.
version: '2'

services:
    app: #camunda is not an allowed service name. Allowed service names are: api,db,kv,lb,web,app
        image: debian:latest
        cap_drop:
         - ALL
        cap_add:
         - CHOWN
         - DAC_OVERRIDE
         - FOWNER
         - SETGID
         - SETUID
        stdin_open: true
        tty: true
        volumes:
         - app.jgi-pps-jenkins:/var/jenkins_home
         - app.jgi-pps-jenkins:/usr/share/jenkins
         - app.jgi-pps-jenkins:/usr/share/jenkins/ref
volumes:
    app.jgi-pps-jenkins:
        driver: rancher-nfs
        external: true
